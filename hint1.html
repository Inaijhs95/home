<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ヒント - 問題1</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>ヒント - 問題1</header>
    <main>
        <div id="warning" style="display: flex; flex-direction: column; align-items: center;">
            <p style="font-size: 1.2em; margin: 20px;">
                このページを進むと、ヒント使用が記録される可能性があります。
            </p>
            <p style="font-size: 1em; margin: 10px;">
                ヒントを利用する前に、もう一度問題に挑戦することをお勧めします。
            </p>
            <div class="menu">
                <button id="proceedHint" class="menu-item">ヒントを確認する</button>
                <a href="question1.html" class="menu-item">問題に戻る</a>
            </div>
        </div>
        <div id="hintContentContainer" style="display: none;">
            <h1>ヒント - 問題1</h1>
            <p id="hintContent">ここにヒントが表示されます。</p>
            <img id="hintImage" src="" alt="ヒント画像" style="max-width: 100%; display: none;">
            <div class="menu">
                <button id="viewMoreHint" class="menu-item">さらにヒントを見る</button>
                <a href="question1.html" class="menu-item">問題に戻る</a>
            </div>
        </div>
    </main>
    <script>
        // ヒントリストと画像のパス
        const hints = [
            { text: "まずは、【正しい向き】すなわち、回転していない文字を左から順に読んでみましょう", image: "images/hint1.png" },
            { text: "“あかもじみぎからよめ” 画像の中の赤文字を右から読んでみましょう。", image: "images/hint2.png" },
            { text: "“かがみもじよめ” 鏡文字とは上下はそのままで左右を反転させた文字を指します。この画像の中にある鏡文字を探しましょう。<br>＊下記の画像は鏡文字を説明するための画像であり、問題と直接の関係はありません。", image: "images/hint3.png" },
            { text: "鏡文字は見つかりましたか？ 枠にとらわれず、画像をすみずみまで確認しましょう。つぎのヒントは…ありません?!", image: "" },
            { text: "もうヒントは無いですよ…", image: "" },
            { text: "もう答えを言いますよ…", image: "" },
            { text: "いない", image: "" }
        ];

        let currentHintIndex = 0;

        // 初期ヒント表示設定
        const hintContent = document.getElementById('hintContent');
        const hintImage = document.getElementById('hintImage');
        const hintContentContainer = document.getElementById('hintContentContainer');

        const updateHint = () => {
            const hint = hints[currentHintIndex];
            hintContent.innerHTML = hint.text;
            if (hint.image) {
                hintImage.src = hint.image;
                hintImage.style.display = "block";
            } else {
                hintImage.style.display = "none";
            }
        };

        // ヒント使用確定操作
        document.getElementById('proceedHint').addEventListener('click', function () {
            document.getElementById('warning').style.display = "none";
            hintContentContainer.style.display = "block";
            updateHint();
            localStorage.setItem('hintUsedQ1', 'true'); // ヒント使用を記録
        });

        // 「さらにヒントを見る」ボタンの動作
        document.getElementById('viewMoreHint').addEventListener('click', function() {
            if (currentHintIndex < hints.length - 1) {
                currentHintIndex++;
                updateHint();
            } else {
                alert('これ以上のヒントはありません。問題に戻って挑戦してください。');
            }
        });
    </script>
</body>
</html>
